{"id":"node_modules/@loaders.gl/images/dist/esm/lib/parsers/parse-to-node-image.js","dependencies":[{"name":"C:\\Users\\Lenovo\\Documents\\Projects\\satelite tracker\\node_modules\\@loaders.gl\\images\\dist\\esm\\lib\\parsers\\parse-to-node-image.js.map","includedInParent":true,"mtime":1664708772415},{"name":"C:\\Users\\Lenovo\\Documents\\Projects\\satelite tracker\\package.json","includedInParent":true,"mtime":1664709020568},{"name":"C:\\Users\\Lenovo\\Documents\\Projects\\satelite tracker\\node_modules\\@loaders.gl\\images\\package.json","includedInParent":true,"mtime":1664708772002},{"name":"@loaders.gl/loader-utils","loc":{"line":1,"column":23,"index":23},"parent":"C:\\Users\\Lenovo\\Documents\\Projects\\satelite tracker\\node_modules\\@loaders.gl\\images\\dist\\esm\\lib\\parsers\\parse-to-node-image.js","resolved":"C:\\Users\\Lenovo\\Documents\\Projects\\satelite tracker\\node_modules\\@loaders.gl\\loader-utils\\dist\\esm\\index.js"},{"name":"../category-api/binary-image-api","loc":{"line":2,"column":39,"index":90},"parent":"C:\\Users\\Lenovo\\Documents\\Projects\\satelite tracker\\node_modules\\@loaders.gl\\images\\dist\\esm\\lib\\parsers\\parse-to-node-image.js","resolved":"C:\\Users\\Lenovo\\Documents\\Projects\\satelite tracker\\node_modules\\@loaders.gl\\images\\dist\\esm\\lib\\category-api\\binary-image-api.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = parseToNodeImage;\n\nvar _loaderUtils = require(\"@loaders.gl/loader-utils\");\n\nvar _binaryImageApi = require(\"../category-api/binary-image-api\");\n\nasync function parseToNodeImage(arrayBuffer, options) {\n  const {\n    mimeType\n  } = (0, _binaryImageApi.getBinaryImageMetadata)(arrayBuffer) || {};\n  const _parseImageNode = globalThis._parseImageNode;\n  (0, _loaderUtils.assert)(_parseImageNode);\n  return await _parseImageNode(arrayBuffer, mimeType);\n}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":8,"column":0}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":0}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":20,"column":15},"generated":{"line":12,"column":0}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"parseToNodeImage","original":{"line":20,"column":30},"generated":{"line":12,"column":15}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":20,"column":15},"generated":{"line":12,"column":31}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"arrayBuffer","original":{"line":21,"column":2},"generated":{"line":12,"column":32}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":20,"column":15},"generated":{"line":12,"column":43}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"options","original":{"line":22,"column":2},"generated":{"line":12,"column":45}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":20,"column":15},"generated":{"line":12,"column":52}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":23,"column":26},"generated":{"line":12,"column":54}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":13,"column":2}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":13,"column":8}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"mimeType","original":{"line":24,"column":9},"generated":{"line":14,"column":4}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":15,"column":2}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"getBinaryImageMetadata","original":{"line":24,"column":21},"generated":{"line":15,"column":6}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"getBinaryImageMetadata","original":{"line":24,"column":21},"generated":{"line":15,"column":10}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"getBinaryImageMetadata","original":{"line":24,"column":21},"generated":{"line":15,"column":48}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"arrayBuffer","original":{"line":24,"column":44},"generated":{"line":15,"column":50}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"getBinaryImageMetadata","original":{"line":24,"column":21},"generated":{"line":15,"column":61}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":24,"column":60},"generated":{"line":15,"column":66}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":15,"column":68}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":16,"column":2}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"_parseImageNode","original":{"line":27,"column":8},"generated":{"line":16,"column":8}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":27,"column":39},"generated":{"line":16,"column":23}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"globalThis","original":{"line":27,"column":42},"generated":{"line":16,"column":26}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":27,"column":52},"generated":{"line":16,"column":36}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"_parseImageNode","original":{"line":27,"column":53},"generated":{"line":16,"column":37}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":16,"column":52}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"assert","original":{"line":28,"column":2},"generated":{"line":17,"column":2}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"assert","original":{"line":28,"column":2},"generated":{"line":17,"column":6}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"assert","original":{"line":28,"column":2},"generated":{"line":17,"column":25}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"_parseImageNode","original":{"line":28,"column":9},"generated":{"line":17,"column":27}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"assert","original":{"line":28,"column":2},"generated":{"line":17,"column":42}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":31,"column":2},"generated":{"line":18,"column":2}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":18,"column":9}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"_parseImageNode","original":{"line":31,"column":15},"generated":{"line":18,"column":15}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":31,"column":30},"generated":{"line":18,"column":30}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"arrayBuffer","original":{"line":31,"column":31},"generated":{"line":18,"column":31}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":31,"column":30},"generated":{"line":18,"column":42}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":"mimeType","original":{"line":31,"column":44},"generated":{"line":18,"column":44}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":31,"column":30},"generated":{"line":18,"column":52}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":31,"column":2},"generated":{"line":18,"column":53}},{"source":"../../../../src/lib/parsers/parse-to-node-image.ts","name":null,"original":{"line":32,"column":1},"generated":{"line":19,"column":0}}],"sources":{"../../../../src/lib/parsers/parse-to-node-image.ts":"import type {ImageLoaderOptions} from '../../image-loader';\nimport type {ImageDataType} from '../../types';\nimport {assert} from '@loaders.gl/loader-utils';\nimport {getBinaryImageMetadata} from '../category-api/binary-image-api';\n\n// Note: These types should be consistent with loaders.gl/polyfills\n\ntype NDArray = {\n  shape: number[];\n  data: Uint8Array;\n  width: number;\n  height: number;\n  components: number;\n  layers: number[];\n};\n\ntype ParseImageNode = (arrayBuffer: ArrayBuffer, mimeType: string) => Promise<NDArray>;\n\n// Use polyfills if installed to parsed image using get-pixels\nexport default async function parseToNodeImage(\n  arrayBuffer: ArrayBuffer,\n  options: ImageLoaderOptions\n): Promise<ImageDataType> {\n  const {mimeType} = getBinaryImageMetadata(arrayBuffer) || {};\n\n  // @ts-ignore\n  const _parseImageNode: ParseImageNode = globalThis._parseImageNode;\n  assert(_parseImageNode); // '@loaders.gl/polyfills not installed'\n\n  // @ts-expect-error TODO should we throw error in this case?\n  return await _parseImageNode(arrayBuffer, mimeType);\n}\n"},"lineCount":null}},"error":null,"hash":"5e704bf04c549ee26ddefe7c28530937","cacheData":{"env":{}}}